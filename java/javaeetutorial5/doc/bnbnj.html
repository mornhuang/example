<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating the <tt>converter</tt> Application Client - The Java EE 5 Tutorial</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-10-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
<link rel="stylesheet" type="text/css" href="css/j5eetutorial.css">
</head>

<body>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
   <tr valign="top">
      <td><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="gexaf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="gfirp.html">Part&nbsp;I&nbsp;Introduction</a></p>
<p class="toc level2"><a href="bnaaw.html">1.&nbsp;&nbsp;Overview</a></p>
<p class="toc level2"><a href="gfiud.html">2.&nbsp;&nbsp;Using the Tutorial Examples</a></p>
<p class="toc level1 tocsp"><a href="bnadp.html">Part&nbsp;II&nbsp;The Web Tier</a></p>
<p class="toc level2"><a href="bnadr.html">3.&nbsp;&nbsp;Getting Started with Web Applications</a></p>
<p class="toc level2"><a href="bnafd.html">4.&nbsp;&nbsp;Java Servlet Technology</a></p>
<p class="toc level2"><a href="bnagx.html">5.&nbsp;&nbsp;JavaServer Pages Technology</a></p>
<p class="toc level2"><a href="bnajo.html">6.&nbsp;&nbsp;JavaServer Pages Documents</a></p>
<p class="toc level2"><a href="bnakc.html">7.&nbsp;&nbsp;JavaServer Pages Standard Tag Library</a></p>
<p class="toc level2"><a href="bnalj.html">8.&nbsp;&nbsp;Custom Tags in JSP Pages</a></p>
<p class="toc level2"><a href="bnaon.html">9.&nbsp;&nbsp;Scripting in JSP Pages</a></p>
<p class="toc level2"><a href="bnaph.html">10.&nbsp;&nbsp;JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="bnaqz.html">11.&nbsp;&nbsp;Using JavaServer Faces Technology in JSP Pages</a></p>
<p class="toc level2"><a href="bnatx.html">12.&nbsp;&nbsp;Developing with JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="bnavg.html">13.&nbsp;&nbsp;Creating Custom UI Components</a></p>
<p class="toc level2"><a href="bnawo.html">14.&nbsp;&nbsp;Configuring JavaServer Faces Applications</a></p>
<p class="toc level2"><a href="bnaxu.html">15.&nbsp;&nbsp;Internationalizing and Localizing Web Applications</a></p>
<p class="toc level1 tocsp"><a href="bnayk.html">Part&nbsp;III&nbsp;Web Services</a></p>
<p class="toc level2"><a href="bnayl.html">16.&nbsp;&nbsp;Building Web Services with JAX-WS</a></p>
<p class="toc level2"><a href="bnazf.html">17.&nbsp;&nbsp;Binding between XML Schema and Java Classes</a></p>
<p class="toc level2"><a href="bnbdv.html">18.&nbsp;&nbsp;Streaming API for XML</a></p>
<p class="toc level2"><a href="bnbhf.html">19.&nbsp;&nbsp;SOAP with Attachments API for Java</a></p>
<p class="toc level1 tocsp"><a href="bnblr.html">Part&nbsp;IV&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="bnbls.html">20.&nbsp;&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="bnbnb.html">21.&nbsp;&nbsp;Getting Started with Enterprise Beans</a></p>
<p class="toc level3"><a href="bnbnc.html">Creating the Enterprise Bean</a></p>
<p class="toc level4"><a href="bnbnc.html#bnbnd">Coding the Enterprise Bean</a></p>
<p class="toc level5"><a href="bnbnc.html#bnbne">Coding the Business Interface</a></p>
<p class="toc level5"><a href="bnbnc.html#bnbnf">Coding the Enterprise Bean Class</a></p>
<p class="toc level4 tocsp"><a href="bnbnc.html#bnbng">Compiling and Packaging the <tt>converter</tt> Example</a></p>
<p class="toc level5"><a href="bnbnc.html#bnbnh">Compiling and Packaging the <tt>converter</tt> Example in NetBeans IDE</a></p>
<p class="toc level5"><a href="bnbnc.html#bnbni">Compiling and Packaging the <tt>converter</tt> Example Using Ant</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Creating the <tt>converter</tt> Application Client</a></p>
<p class="toc level4"><a href="#bnbnk">Coding the <tt>converter</tt> Application Client</a></p>
<p class="toc level5"><a href="#bnbnl">Creating a Reference to an Enterprise Bean Instance</a></p>
<p class="toc level5"><a href="#bnbnm">Invoking a Business Method</a></p>
<p class="toc level5"><a href="#bnbnn"><tt>ConverterClient</tt> Source Code</a></p>
<p class="toc level4 tocsp"><a href="#bnbno">Compiling the <tt>converter</tt> Application Client</a></p>
</div>
<p class="toc level3 tocsp"><a href="bnbnp.html">Creating the <tt>converter</tt> Web Client</a></p>
<p class="toc level4"><a href="bnbnp.html#bnbnq">Coding the <tt>converter</tt> Web Client</a></p>
<p class="toc level4"><a href="bnbnp.html#bnbnr">Compiling the <tt>converter</tt> Web Client</a></p>
<p class="toc level3 tocsp"><a href="bnbns.html">Deploying the <tt>converter</tt> Java EE Application</a></p>
<p class="toc level4"><a href="bnbns.html#bnbnt">Deploying the <tt>converter</tt> Example Using NetBeans IDE</a></p>
<p class="toc level4"><a href="bnbns.html#bnbnu">Deploying the <tt>converter</tt> Example Using Ant</a></p>
<p class="toc level3 tocsp"><a href="bnbnv.html">Running the <tt>converter</tt> Application Client</a></p>
<p class="toc level4"><a href="bnbnv.html#bnbnw">Running the <tt>converter</tt> Application Client Using NetBeans IDE</a></p>
<p class="toc level4"><a href="bnbnv.html#bnbnx">Running the <tt>converter</tt> Application Client Using Ant</a></p>
<p class="toc level3 tocsp"><a href="bnbny.html">Running the <tt>converter</tt> Web Client</a></p>
<p class="toc level3"><a href="bnboa.html">Modifying the Java EE Application</a></p>
<p class="toc level4"><a href="bnboa.html#bnbob">Modifying a Class File</a></p>
<p class="toc level2 tocsp"><a href="bnboc.html">22.&nbsp;&nbsp;Session Bean Examples</a></p>
<p class="toc level2"><a href="bnbpk.html">23.&nbsp;&nbsp;A Message-Driven Bean Example</a></p>
<p class="toc level1 tocsp"><a href="bnbpy.html">Part&nbsp;V&nbsp;Persistence</a></p>
<p class="toc level2"><a href="bnbpz.html">24.&nbsp;&nbsp;Introduction to the Java Persistence API</a></p>
<p class="toc level2"><a href="bnbrl.html">25.&nbsp;&nbsp;Persistence in the Web Tier</a></p>
<p class="toc level2"><a href="bnbrs.html">26.&nbsp;&nbsp;Persistence in the EJB Tier</a></p>
<p class="toc level2"><a href="bnbtg.html">27.&nbsp;&nbsp;The Java Persistence Query Language</a></p>
<p class="toc level1 tocsp"><a href="bnbwi.html">Part&nbsp;VI&nbsp;Services</a></p>
<p class="toc level2"><a href="bnbwj.html">28.&nbsp;&nbsp;Introduction to Security in the Java EE Platform</a></p>
<p class="toc level2"><a href="bnbyk.html">29.&nbsp;&nbsp;Securing Java EE Applications</a></p>
<p class="toc level2"><a href="bncas.html">30.&nbsp;&nbsp;Securing Web Applications</a></p>
<p class="toc level2"><a href="bncdq.html">31.&nbsp;&nbsp;The Java Message Service API</a></p>
<p class="toc level2"><a href="bncgv.html">32.&nbsp;&nbsp;Java EE Examples Using the JMS API</a></p>
<p class="toc level2"><a href="bncih.html">33.&nbsp;&nbsp;Transactions</a></p>
<p class="toc level2"><a href="bncjh.html">34.&nbsp;&nbsp;Resource Connections</a></p>
<p class="toc level2"><a href="bncjx.html">35.&nbsp;&nbsp;Connector Architecture</a></p>
<p class="toc level1 tocsp"><a href="bnckn.html">Part&nbsp;VII&nbsp;Case Studies</a></p>
<p class="toc level2"><a href="bncko.html">36.&nbsp;&nbsp;The Coffee Break Application</a></p>
<p class="toc level2"><a href="bnclz.html">37.&nbsp;&nbsp;The Duke's Bank Application</a></p>
<p class="toc level1 tocsp"><a href="gexbq.html">Part&nbsp;VIII&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="bncno.html">A.&nbsp;&nbsp;Java Encoding Schemes</a></p>
<p class="toc level2"><a href="bncnq.html">B.&nbsp;&nbsp;Preparation for Java EE Certification Exams</a></p>
<p class="toc level2"><a href="bncnt.html">C.&nbsp;&nbsp;About the Authors</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td width="10px">&nbsp;</td>
      <td width="705px">
         <div class="header">
             <div class="header-links-top">
                 <a href="http://java.sun.com">java.sun.com</a> |
                 <a href="http://docs.sun.com/">docs.sun.com</a><br>
             </div> 
             <img src="graphics/tutorialBanner.gif" width="704" height="120" alt="The Java&trade; EE 5 Tutorial"/>
             <div class="header-links">
	         <a href="index.html">Home</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/information/download.html">Download</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/doc/JavaEETutorial.pdf">PDF</a> |
                 <a href="http://java.sun.com/javaee/5/docs/api/index.html">API</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/information/faq.html">FAQ</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/information/search.html">Search</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/information/sendusmail.html">Feedback</a> |
                 <a href="http://java.sun.com/javaee/5/docs/tutorial/information/history.html">History</a>
             </div>
             <div class="navigation">
                 <a href="bnbnc.html"><img style="padding-right: 3px" src="graphics/leftButton.gif" border="0"></a>
                 <a href="sjsaseej2eet.html"><img style="padding-right: 3px" src="graphics/upButton.gif" border="0"></a>
                 <a href="bnbnp.html"><img style="padding-left: 3px" src="graphics/rightButton.gif" border="0"></a>
             </div>
         </div>

	 <div class="maincontent">      	 
             

<a name="bnbnj"></a><h3>Creating the <tt>converter</tt> Application Client</h3>
<p><a name="indexterm-2074"></a>An application client is a program written in the Java programming language. At
runtime, the client program executes in a different virtual machine than the Application
Server. For detailed information on the <tt>appclient</tt> command-line tool, see the man page at
<a href="http://docs.sun.com/doc/819-3675/appclient-1m?a=view"><tt>appclient</tt>(1M)</a>.</p><p><a name="indexterm-2075"></a>The application client in this example requires two JAR files. The first JAR
file is for the Java EE component of the client. This JAR
file contains the client&rsquo;s deployment descriptor and class files; it is created when you
run the New Application Client wizard. Defined by the <b>Java EE Specification</b>, this JAR
file is portable across all compliant application servers.</p><p>The second JAR file contains all the classes that are required by
the client program at runtime. These classes enable the client to access the
enterprise beans that are running in the Application Server. The JAR file is
retrieved before you run the application. Because this retrieved JAR file is not
covered by the Java EE specification, it is implementation-specific, intended only for the Application
Server.</p><p>The application client source code is in the <tt>ConverterClient.java</tt> file, which is
in this directory:</p><pre><i>tut-install</i>/javaeetutorial5/examples/ejb/converter/converter-app-client/src/java/</pre><p>You compiled this code along with the enterprise bean code in the
section <a href="bnbnc.html#bnbng">Compiling and Packaging the <tt>converter</tt> Example</a>.</p>

<a name="bnbnk"></a><h4>Coding the <tt>converter</tt> Application Client</h4>
<p>The <tt>ConverterClient.java</tt> source code illustrates the basic tasks performed by the client of
an enterprise bean:</p>
<ul><li><p>Creating an enterprise bean instance</p></li>
<li><p>Invoking a business method</p></li></ul>


<a name="bnbnl"></a><h5>Creating a Reference to an Enterprise Bean Instance</h5>
<p>Java EE application clients refer to enterprise bean instances by annotating static fields
with the <tt>@EJB</tt> annotation. The annotated static field represents the enterprise bean&rsquo;s business
interface, which will resolve to the session bean instance when the application client
container injects the resource references at runtime.</p><pre>@EJB
private static Converter converter;</pre><p>The field is static because the client class runs in a static
context.</p>

<a name="bnbnm"></a><h5>Invoking a Business Method</h5>
<p><a name="indexterm-2076"></a>Calling a business method is easy: you simply invoke the method on the
injected <tt>Converter</tt> object. The EJB container will invoke the corresponding method on the
<tt>ConverterBean</tt> instance that is running on the server. The client invokes the <tt>dollarToYen</tt>
business method in the following lines of code.</p><pre>BigDecimal param = new BigDecimal ("100.00");
BigDecimal amount = currencyConverter.dollarToYen(param);</pre>

<a name="bnbnn"></a><h5><tt>ConverterClient</tt> Source Code</h5>
<p><a name="indexterm-2077"></a><a name="indexterm-2078"></a>The full source code for the <tt>ConverterClient</tt> program follows.</p><pre>package com.sun.tutorial.javaee.ejb;

import java.math.BigDecimal;
import javax.ejb.EJB;

public class ConverterClient {
    @EJB
    private static Converter converter;
    
    public ConverterClient(String[] args) {
    }

    public static void main(String[] args) {
        ConverterClient client = new ConverterClient(args);
        client.doConversion();
    }

    public void doConversion() {
        try {
            BigDecimal param = new BigDecimal("100.00");
            BigDecimal yenAmount = converter.dollarToYen(param);

            System.out.println("$" + param + " is " + yenAmount
                    + " Yen.");
            BigDecimal euroAmount = converter.yenToEuro(yenAmount);
            System.out.println(yenAmount + " Yen is " + euroAmount
                    + " Euro.");

            System.exit(0);
        } catch (Exception ex) {
            System.err.println("Caught an unexpected exception!");
            ex.printStackTrace();
        }
    }
}</pre>

<a name="bnbno"></a><h4>Compiling the <tt>converter</tt> Application Client</h4>
<p>The application client files are compiled at the same time as the
enterprise bean files, as described in <a href="bnbnc.html#bnbng">Compiling and Packaging the <tt>converter</tt> Example</a>.</p>
         </div>
         <div class="navigation">
             <a href="bnbnc.html"><img style="padding-right: 3px" src="graphics/leftButton.gif" border="0"></a>
             <a href="sjsaseej2eet.html"><img style="padding-right: 3px" src="graphics/upButton.gif" border="0"></a>
             <a href="bnbnp.html"><img style="padding-left: 3px" src="graphics/rightButton.gif" border="0"></a>
         </div>

         <div class="copyright">
      	    <p>The material in The Java&trade; EE 5 Tutorial is <a href='docinfo.html'>copyright</a>-protected and may not be published in other works without express written permission from Sun Microsystems.</p>
      	 </div>

      </td>
   </tr>
</tbody>
</table>
</body>
</html>

